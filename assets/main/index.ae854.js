window.__require=function t(e,o,n){function r(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){return r(e[s][1][t]||t)},p,p.exports,t,e,o,n)}return o[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<n.length;s++)r(n[s]);return r}({InMenu:[function(t,e,o){"use strict";cc._RF.push(e,"a739cxQ7ZRLRbhuq0jS4/rj","InMenu");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.playerMenu=null,e.HistoryMenu=null,e.playerBut=null,e.historyBut=null,e}return n(e,t),e.prototype.onLoad=function(){this.HistoryMenu.active=!1,this.playerMenu.active=!1,this.mask.active=!1},e.prototype.onEnable=function(){this.mask.on("mouseup",this.exitHistory,this),this.mask.on("mouseup",this.exitPlayer,this),this.playerBut.on("mouseup",this.openPlayer,this),this.historyBut.on("mouseup",this.openHistory,this)},e.prototype.onDisable=function(){this.mask.off("mouseup",this.exitHistory,this),this.mask.off("mouseup",this.exitPlayer,this),this.playerBut.off("mouseup",this.openPlayer,this),this.historyBut.off("mouseup",this.openHistory,this)},e.prototype.onDestroy=function(){},e.prototype.start=function(){},e.prototype.openMask=function(){this.mask.active=!0},e.prototype.closeMask=function(){this.mask.active=!1},e.prototype.openPlayer=function(){this.playerMenu.active=!0,this.openMask()},e.prototype.exitPlayer=function(t){this.playerMenu.active=!1,this.closeMask(),t.stopPropagation()},e.prototype.openHistory=function(){this.HistoryMenu.active=!0,this.openMask()},e.prototype.exitHistory=function(t){this.HistoryMenu.active=!1,this.closeMask(),t.stopPropagation()},r([c(cc.Node)],e.prototype,"mask",void 0),r([c(cc.Node)],e.prototype,"playerMenu",void 0),r([c(cc.Node)],e.prototype,"HistoryMenu",void 0),r([c(cc.Node)],e.prototype,"playerBut",void 0),r([c(cc.Node)],e.prototype,"historyBut",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],cameraMove:[function(t,e,o){"use strict";cc._RF.push(e,"c3d0cCboBZGqbawf/1+n7aF","cameraMove");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=t("./connect"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boardCam=null,e.connectNode=null,e.canvas=null,e.startPos=null,e.endPos=null,e}return n(e,t),e.prototype.onLoad=function(){this.canvas.on("mousedown",this.getStartPos,this,!0),this.canvas.on("mouseup",this.stopMsg,this,!0),this.boardCam.on(cc.Node.EventType.TOUCH_MOVE,this.moveCame,this,!0)},e.prototype.onDestroy=function(){this.canvas.on("mousedown",this.getStartPos,!0),this.canvas.off("mouseup",this.stopMsg,this,!0),this.boardCam.off(cc.Node.EventType.TOUCH_MOVE,this.moveCame,this,!0)},e.prototype.getStartPos=function(t){this.startPos=t.getLocation()},e.prototype.stopMsg=function(t){this.endPos=t.getLocation(),Math.abs(this.startPos.x-this.endPos.x)>1&&Math.abs(this.startPos.y-this.endPos.y)>1?(this.connectNode.canClick=!1,t.stopPropagation()):this.connectNode.canClick=!0},e.prototype.moveCame=function(t){var e=this.boardCam.x+-(t.getLocationX()-t.getPreviousLocation().x),o=this.boardCam.y+-(t.getLocationY()-t.getPreviousLocation().y);e>-30&&o>-30&&e<960&&o<1280&&(this.boardCam.x+=-(t.getLocationX()-t.getPreviousLocation().x),this.boardCam.y+=-(t.getLocationY()-t.getPreviousLocation().y))},e.prototype.start=function(){},r([c(cc.Node)],e.prototype,"boardCam",void 0),r([c(a.default)],e.prototype,"connectNode",void 0),r([c(cc.Node)],e.prototype,"canvas",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./connect":"connect"}],connect:[function(t,e,o){"use strict";cc._RF.push(e,"57982q6O4pIa60wT8wjIJEA","connect");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=null,l=t("./display"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayNode=null,e.currentType=[],e.canClick=null,e.connectSuccessful=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onDestroy=function(){},e.prototype.toConnect=function(t){var e=this;console.log(t),(a=new WebSocket(t)).onopen=function(t){e.toGetPlayers(),e.toGetHistory(),e.connectSuccessful=!0},a.onmessage=function(t){var o=JSON.parse(t.data);switch(e.currentType.shift()){case"get.board":e.displayNode.setBoard(o);break;case"get.players":e.displayNode.setPlayers(o);break;case"get.history":e.displayNode.setHistory(o);break;case"action.join":e.displayNode.setJoin(o);break;case"action.click":e.displayNode.Clicked(o),e.toGetBoard();break;case"system.nextgame":console.log("system.nextgame");break;default:e.errorMessage("null")}}},e.prototype.errorMessage=function(t){"null"==t?console.log("null"):console.log("uncaught error")},e.prototype.wsSendMsg=function(t){a.send(JSON.stringify(t))},e.prototype.toGetBoard=function(){this.currentType.push("get.board"),this.wsSendMsg({Type:"get.board"})},e.prototype.toGetPlayers=function(){this.currentType.push("get.players"),this.wsSendMsg({Type:"get.players"})},e.prototype.toGetHistory=function(){this.currentType.push("get.history"),this.wsSendMsg({Type:"get.history"})},e.prototype.toJoinGame=function(t){var e={Type:"action.join",Name:t};this.currentType.push("action.join"),this.wsSendMsg(e)},e.prototype.toClick=function(t,e){if(this.canClick){var o={Type:"action.click",Index:t,Flag:e};this.currentType.push("action.click"),this.wsSendMsg(o)}},e.prototype.toNewGame=function(){this.currentType.push("system.nextgame"),this.wsSendMsg({Type:"system.nextgame"})},e.prototype.getWS=function(){return a},e.prototype.setURL=function(){},r([c(l.default)],e.prototype,"displayNode",void 0),e=r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./display":"display"}],display:[function(t,e,o){"use strict";cc._RF.push(e,"d526ev7l0tJJKUndPTPW/KR","display");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LeaderBoard=null,e.aliveLabel=null,e.historyLabel=null,e.unknown=null,e.flag=null,e.original=null,e.displayNode=null,e.menu=null,e.historyMenu=null,e.alivePlayerMenu=null,e.explode=null,e.getPoint=null,e.displayNodePool=null,e.maxPoolCount=0,e.canClick=null,e.minesArray=[],e.colorArray=[],e.board={GID:null,Height:null,Width:null,Playing:null,Client:null},e.playerNametoID=new Map,e.playerID=new Map,e.playersCount=0,e.currentPlayer={Name:null,Status:null},e.players=[],e.history=[],e.join={Code:null,Pid:null},e.click={Code:null,Score:null},e.newGame={Code:null,Msg:null},e}return n(e,t),e.prototype.onLoad=function(){this.displayNodePool=new cc.NodePool,this.LeaderBoard.node.active=!1,this.colorArray.push(new cc.Color(113,204,249)),this.colorArray.push(new cc.Color(79,11,124)),this.colorArray.push(new cc.Color(108,122,50)),this.colorArray.push(new cc.Color(81,148,130)),this.colorArray.push(new cc.Color(24,16,15)),this.colorArray.push(new cc.Color(244,91,147)),this.colorArray.push(new cc.Color(104,3,39)),this.colorArray.push(new cc.Color(196,10,232)),this.colorArray.push(new cc.Color(49,123,88)),this.colorArray.push(new cc.Color(135,183,31)),this.colorArray.push(new cc.Color(137,36,191)),this.colorArray.push(new cc.Color(104,235,161)),this.colorArray.push(new cc.Color(85,91,205)),this.colorArray.push(new cc.Color(151,126,232)),this.colorArray.push(new cc.Color(234,106,12)),this.colorArray.push(new cc.Color(104,254,13))},e.prototype.setNodePoolCount=function(t){if(t>this.maxPoolCount){for(var e=0;e<t-this.maxPoolCount;++e){var o=cc.instantiate(this.displayNode);this.displayNodePool.put(o),this.node.color.toHEX("")}this.maxPoolCount=t}else if(this.displayNodePool.size()>0)for(e=0;e<this.displayNodePool.size()-t;++e)this.displayNodePool.get()},e.prototype.refreshNode=function(){var t=cc.instantiate(this.displayNode);this.displayNodePool.put(t)},e.prototype.randomColor=function(){function t(t,e){return Math.round(Math.random()*(t-e)+e)}var e=new cc.Color;return e.r=t(255,100),e.g=t(255,100),e.g=t(255,50),e},e.prototype.createBoard=function(){for(var t=0,e=0,o=1;e<this.board.Height*this.board.Width;++e,++o){o%65==0&&(o%=65,o++,t+=1);var n=null;(n=this.displayNodePool.get()).name="mines",n&&(n.parent=this.node,-1!=this.board.Client[e]&&(this.playerID.has(String(Math.floor(this.board.Client[e]/10)))||this.playerID.set(String(Math.floor(this.board.Client[e]/10)),this.playersCount++),this.playersCount>this.colorArray.length&&this.colorArray.push(this.randomColor()),n.getComponent("mines").setColor(this.colorArray[this.playerID.get(String(Math.floor(this.board.Client[e]/10)))])),n.getComponent("mines").index=e,n.getComponent("mines").Show(t,o-1,this.board.Client[e]),this.minesArray.push(n))}},e.prototype.refreshBoard=function(){if(null!=this.board.Playing)for(var t=0,e=0,o=1;e<this.board.Height*this.board.Width;++e,++o)o%65==0&&(o%=65,o++,t+=1),-1!=this.board.Client[e]&&(this.playerID.has(String(Math.floor(this.board.Client[e]/10)))||this.playerID.set(String(Math.floor(this.board.Client[e]/10)),this.playersCount++),this.playersCount>this.colorArray.length&&this.colorArray.push(this.randomColor()),this.minesArray[e].getComponent("mines").setColor(this.colorArray[this.playerID.get(String(Math.floor(this.board.Client[e]/10)))])),this.minesArray[e].getComponent("mines").Show(t,o-1,this.board.Client[e])},e.prototype.checkUserPlaying=function(){null!=this.currentPlayer.Status?0==this.currentPlayer.Status||console.log("cannot login"):(this.node.parent.getChildByName("pop_menu").active=!0,this.node.parent.getChildByName("urlBox").active=!1,this.node.parent.getChildByName("linkButton").active=!1)},e.prototype.displayBoard=function(){this.board.Playing&&(this.LeaderBoard.node.active=!0,this.setNodePoolCount(this.board.Height*this.board.Width),null!=this.node.children[0]?this.refreshBoard():this.createBoard(),this.checkUserPlaying())},e.prototype.setBoard=function(t){t&&(this.board=t,this.displayBoard())},e.prototype.displayPlayer=function(){function t(t,e){return t<e}if(this.players){for(var e=[],o=[],n=0;n<this.players.length;++n)e.push(this.players[n].Score),o.push(this.players[n].Name);for(n=0;n<e.length-1;++n)for(var r=0;r<e.length-n-1;++r)if(t(e[r],e[r+1])){var i=e[r];e[r]=e[r+1],e[r+1]=i;var s=o[r];o[r]=o[r+1],o[r+1]=s}var c=[];for(n=0;n<this.players.length;++n)this.players[n].Alive&&c.push(this.players[n].Name);var a=this.alivePlayerMenu.getChildByName("PlayerID").getComponent(cc.Label).string;a="";for(n=0;n<c.length;++n)a+=c[n]+"\n";this.alivePlayerMenu.getChildByName("PlayerID").getComponent(cc.Label).string=a;var l=this.LeaderBoard.node.getChildByName("name").getComponent(cc.Label).string,p=this.LeaderBoard.node.getChildByName("score").getComponent(cc.Label).string;this.LeaderBoard.node.getChildByName("name"),this.LeaderBoard.node.getChildByName("score");l="",p="";for(n=0;n<Math.min(this.players.length,5);++n)l+="#"+(n+1)+"  "+o[n]+"\n",p+=e[n]+"\n";this.LeaderBoard.node.getChildByName("name").getComponent(cc.Label).string=l,this.LeaderBoard.node.getChildByName("score").getComponent(cc.Label).string=p}},e.prototype.setPlayers=function(t){t&&(this.players=t,this.displayPlayer())},e.prototype.setHistory=function(t){t&&(this.history=t,this.displayHistory())},e.prototype.displayHistory=function(){function t(t,e){return t<e}if(console.log(this.history),0!=this.history.length){var e=this.history[this.history.length-1];console.log(this.history);for(var o=0;o<e.Players.length-1;++o)for(var n=0;n<e.Players.length-1-o;++n)if(t(e.Players[n].Score,e.Players[n+1].Score)){var r=e.Players[n].Score;e.Players[n].Score=e.Players[n+1].Score,e.Players[n+1].Score=r;var i=e.Players[n].Name;e.Players[n].Name=e.Players[n+1].Name,e.Players[n+1].Name=i}var s=this.historyMenu.getChildByName("Label1").getComponent(cc.Label).string,c=this.historyMenu.getChildByName("Label2").getComponent(cc.Label).string;s="",c="";for(o=0;o<Math.min(15,e.Players.length);++o)s+=e.Players[o].Name+"\n",c+=e.Players[o].Score+"\n";this.historyMenu.getChildByName("Label1").getComponent(cc.Label).string=s,this.historyMenu.getChildByName("Label2").getComponent(cc.Label).string=c}else this.historyMenu.getChildByName("Label1").getComponent(cc.Label).string="",this.historyMenu.getChildByName("Label2").getComponent(cc.Label).string=""},e.prototype.setJoin=function(t){t&&(this.join=t,0==this.join.Code&&null==this.currentPlayer.Status?(this.currentPlayer.Status=this.join.Code,this.node.parent.getChildByName("pop_menu").getComponent("popMenu").exit_menu(),console.log("succeed")):1==this.join.Code?console.log("already used"):2==this.join.Code?console.log("current player is full"):3==this.join.Code?console.log("game players is full"):4!=this.join.Code&&0!=this.currentPlayer.Status||console.log("already in the game"))},e.prototype.Clicked=function(t){var e,o=this;e=t,0==this.currentPlayer.Status?(console.log(e.Code),0==e.Code&&e.Score>0?cc.audioEngine.play(this.getPoint,!1,1):1==e.Code||(2==e.Code||-1==e.Score?(this.currentPlayer.Status=null,cc.audioEngine.play(this.explode,!1,.1),console.log("you are dead"),this.scheduleOnce(function(){o.menu.getComponent("popMenu").show_menu()},6)):3==e.Code?(this.menu.getComponent("popMenu").show_menu(),console.log("Login now")):4==e.Code?console.log("Game is not started yet"):0==e.Score&&console.log("clicked failed"))):(this.menu.getComponent("popMenu").show_menu(),console.log("Plz login first"))},e.prototype.start=function(){},r([c(cc.Sprite)],e.prototype,"LeaderBoard",void 0),r([c(cc.Label)],e.prototype,"aliveLabel",void 0),r([c(cc.Label)],e.prototype,"historyLabel",void 0),r([c(cc.SpriteFrame)],e.prototype,"unknown",void 0),r([c(cc.SpriteFrame)],e.prototype,"flag",void 0),r([c(cc.SpriteFrame)],e.prototype,"original",void 0),r([c(cc.Prefab)],e.prototype,"displayNode",void 0),r([c(cc.Node)],e.prototype,"menu",void 0),r([c(cc.Node)],e.prototype,"historyMenu",void 0),r([c(cc.Node)],e.prototype,"alivePlayerMenu",void 0),r([c(cc.AudioClip)],e.prototype,"explode",void 0),r([c(cc.AudioClip)],e.prototype,"getPoint",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],game:[function(t,e,o){"use strict";cc._RF.push(e,"17c31Crn35AObFKCqICKNy5","game");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=t("./connect"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.connectTs=null,e.edB=null,e.but=null,e.passTime_Board=0,e.passTime2_Players=0,e.newStuff=null,e}return n(e,t),e.prototype.onLoad=function(){this.node.getChildByName("pop_menu").active=!1,this.edB=this.node.getChildByName("urlBox").getComponent(cc.EditBox),this.but=this.node.getChildByName("linkButton").getComponent(cc.Button)},e.prototype.onDidEnd=function(){},e.prototype.onClick=function(){var t=this.edB.string;""!=t&&this.connectTs.toConnect("wss://"+t)},e.prototype.checkLink=function(){},e.prototype.start=function(){},e.prototype.update=function(t){this.passTime_Board+=t,this.passTime2_Players+=t,this.passTime_Board>.2&&null!=this.connectTs.getComponent(a.default).getWS()&&1==this.connectTs.getComponent(a.default).connectSuccessful&&(this.connectTs.getComponent(a.default).toGetBoard(),this.passTime_Board=0),this.passTime2_Players>.5&&null!=this.connectTs.getComponent(a.default).getWS()&&1==this.connectTs.getComponent(a.default).connectSuccessful&&(this.passTime2_Players=0,this.connectTs.getComponent(a.default).toGetPlayers())},r([c(a.default)],e.prototype,"connectTs",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./connect":"connect"}],login:[function(t,e,o){"use strict";cc._RF.push(e,"99bb6bgxFpMObGKW30VfZ9H","login");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=t("./connect"),l=t("./popMenu"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playBut=null,e.nameBox=null,e.connectNode=null,e.menu=null,e}return n(e,t),e.prototype.onLoad=function(){this.playBut.on("mouseup",this.inputEnd,this)},e.prototype.onDestroy=function(){this.playBut.off("mouseup",this.inputEnd,this)},e.prototype.inputEnd=function(){var t=this.nameBox.getComponent(cc.EditBox).string;""!=t&&(this.connectNode.toJoinGame(t),this.menu.exit_menu())},e.prototype.start=function(){},r([c(cc.Node)],e.prototype,"playBut",void 0),r([c(cc.Node)],e.prototype,"nameBox",void 0),r([c(a.default)],e.prototype,"connectNode",void 0),r([c(l.default)],e.prototype,"menu",void 0),e=r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./connect":"connect","./popMenu":"popMenu"}],mask:[function(t,e,o){"use strict";cc._RF.push(e,"9a722l32pNCeq7mK2FFx1RL","mask");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskNode=null,e.buttonNode=null,e.menuNode=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){this.node.on("mouseup",this.exit_menu,this)},e.prototype.onDisable=function(){this.node.off("mouseup",this.exit_menu,this)},e.prototype.start=function(){},e.prototype.show_menu=function(){this.menuNode.active=!0,this.maskNode.active=!0,this.buttonNode.active=!1},e.prototype.exit_menu=function(){this.menuNode.active=!1,this.maskNode.active=!1,this.buttonNode.active=!0},r([c(cc.Node)],e.prototype,"maskNode",void 0),r([c(cc.Node)],e.prototype,"buttonNode",void 0),r([c(cc.Node)],e.prototype,"menuNode",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],mines:[function(t,e,o){"use strict";cc._RF.push(e,"48780HwooBLeYO6n6IC/6PS","mines");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=t("./display"),l=t("./connect"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unknown=null,e.Flag=null,e.original=null,e.label=null,e.flag=null,e.index=null,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.MOUSE_UP,this.toClick,this)},e.prototype.toClick=function(t){t.getButton()==cc.Event.EventMouse.BUTTON_LEFT?cc.find("Canvas/background/connectNode").getComponent(l.default).toClick(this.index,!1):t.getButton()==cc.Event.EventMouse.BUTTON_RIGHT&&cc.find("Canvas/background/connectNode").getComponent(l.default).toClick(this.index,!0)},e.prototype.onDestroy=function(){this.label?this.node.removeComponent(cc.Label):this.flag&&this.node.removeComponent(cc.Sprite),this.node.parent.getComponent(a.default).refreshNode(),this.node.off(cc.Node.EventType.MOUSE_UP,this.toClick,this)},e.prototype.addLabel=function(){var t=new cc.Node;t.addComponent(cc.Label),this.node.addChild(t),this.label=this.node.getComponentInChildren(cc.Label),this.label.string=""},e.prototype.setLabel=function(t){this.addLabel(),this.setLabelString(t),this.setFontSize(),this.setLineHeight()},e.prototype.setFontSize=function(){this.label.fontSize=25},e.prototype.setLineHeight=function(){this.label.lineHeight=20},e.prototype.setLabelString=function(t){this.label.string=t,this.label.node.color.toHEX("#000"),this.label.node.x=0,this.label.node.y=0},e.prototype.setColor=function(t){this.node.color=t},e.prototype.setFlag=function(){var t=new cc.Node;t.addComponent(cc.Sprite),this.flag=t.getComponent(cc.Sprite),this.flag.spriteFrame=this.Flag,this.node.addChild(t),this.flag.node.width=.8*this.node.width,this.flag.node.height=.8*this.node.height},e.prototype.Show=function(t,e,o){this.node.x=this.node.width*t,this.node.y=this.node.height*e;var n=this.node.getComponent(cc.Sprite);o%10==-1?n.spriteFrame=this.unknown:o%10>=1&&o%10<9?(n.spriteFrame=this.original,this.setLabel(String(o%10))):o%10==9?(n.spriteFrame=this.unknown,this.setFlag()):n.spriteFrame=this.original},e.prototype.start=function(){},r([c(cc.SpriteFrame)],e.prototype,"unknown",void 0),r([c(cc.SpriteFrame)],e.prototype,"Flag",void 0),r([c(cc.SpriteFrame)],e.prototype,"original",void 0),e=r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./connect":"connect","./display":"display"}],popMenu:[function(t,e,o){"use strict";cc._RF.push(e,"d72440uKNNLm6t9OC7kmmBJ","popMenu");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.menu=null,e.but=null,e}return n(e,t),e.prototype.onLoad=function(){this.but.active=!1,this.menu.active=!0,this.mask.active=!0,this.but.on("mouseup",this.show_menu,this),this.mask.on("mouseup",this.exit_menu,this)},e.prototype.block=function(){},e.prototype.onDisable=function(){},e.prototype.onDestroy=function(){this.but.off("mouseup",this.exit_menu,this),this.mask.off("mouseup",this.exit_menu,this)},e.prototype.show_menu=function(){this.mask.active=!0,this.menu.active=!0,this.but.active=!1},e.prototype.exit_menu=function(){this.mask.active=!1,this.menu.active=!1,this.but.active=!0},e.prototype.start=function(){},r([c(cc.Node)],e.prototype,"mask",void 0),r([c(cc.Node)],e.prototype,"menu",void 0),r([c(cc.Node)],e.prototype,"but",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["InMenu","cameraMove","connect","display","game","login","mask","mines","popMenu"]);